Во-первых мы изменим вес нашего приложения Reviews между его различными версиями. Затем создадим несколько правил маршрутизации, чтобы разные пользователи увидели разные версии нашего приложения.

Чтобы иметь возможность изменить вес трафика между разными версиями приложения, в первую очередь нужно задать эти версии. Это может быть сделано с помощью Destination Rules как мы обсуждали ранее. Для этого демо мы можем использовать дефолтные Destination Rules из каталога `samples/`. Применим манифесты командой: `kubectl apply -f samples/bookinfo/networking/destination-rule-all.yaml`.

Давайте создадим наш VirtualService под названием `reviews`. 
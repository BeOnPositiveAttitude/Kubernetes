Можно провести аналогию с автоматическими выключателями в электрическом щитке. Они разрывают цепь в случае повышенной нагрузки и тем самым предотвращают перегрев кабеля и дальнейшее его возгорание.

Istio Circuit Breakers контролируют сетевой трафик между сервисами. Если один из сервисов стал работать медленно, перегружен или упал, Circuit Breaking помогает защитить остальные сервисы от перегрузки.

Допустим у вас в доме есть горячая вода, которая распределяется по всему дому - на кухню, в ванную, туалет и т.д. Если все помещения запросят горячую воду одновременно, то сервис подачи горячей воды будет перегружен, может сломаться или начать подавать холодную воду вместо горячей. Вы устанавливаете интеллектуальную систему управления подачей воды (как Istio Service Mesh), которая реализует следующие правила. Если горячую воду запрашивают одновременно более двух кранов, система останавливает приём дальнейших запросов на горячую воду на некоторое время - до тех пор пока один кран не освободится. Это и есть Circuit Breaking. Вы предотвращаете перегрузку системы, чтобы сохранить её "здоровой".

Мы знаем, что сервис "Product Page" взаимодействует с другими сервисами, например "Reviews" и "Details". Если по каким-либо причинам сервис "Details" упал либо начал тормозить и не в состоянии обслуживать сервис "Product Page", тогда все запросы от сервиса "Product Page" будут скапливаться в очереди к сервису "Details", по сути создавая задержку, т.к. сервис "Product Page" будет ждать ответа от сервиса "Details".

Таким образом один неработающий сервис определенно влияет на работу остальных сервисов.

В таких случаях мы хотели бы маркировать запросы как неуспешные сразу же после их отправки сервису "Details" вместо ожидания и отправлять их обратно к сервису "Product Page". Это известно как Circuit Breaking и позволяет нам создавать устойчивые микросервисные приложения, которые позволяют ограничивать влияние сбоев или других сетевых проблем.

То же самое верно, если мы хотим ограничить количество запросов, приходящих к самой "Product Page".

<img src="image.png" width="800" height="400"><br>

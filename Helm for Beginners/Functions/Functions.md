Что будет, если в файле values.yaml какая-либо переменная не будет иметь значения? Тогда в итоговом manifest-файле также будет отсутствовать это значение и создание объекта K8s завершится ошибкой. Соответственно нужно, чтобы наш Chart имел некие дефолтные значения, которые будут использованы в случае, если пользователь не укажет никаких значений в файле values.yaml. Если же значения в файле values.yaml заданы, значит будут использованы именно они. Это реализуется с помощью функций.

Пример использования функции для приведения всех букв к верхнему регистру: `{{ upper .Values.image.repository }}`. Здесь `upper` - это функция, а `.Values.image.repository` - аргумент функции. В итоге из nginx получим NGINX.

Заключить значение переменной в кавычки: `{{ quote .Values.image.repository }}`. В итоге из nginx получим "nginx".

Заменить символ в значении переменной: `{{ replace "x" "y" .Values.image.repository }}`. В итоге из nginx получим nginy.

Перемешать все буквы в значении переменной: `{{ shuffle .Values.image.repository }}`. В итоге из nginx получим xignn.

Больше функций в [документации](https://helm.sh/docs/chart_template_guide/function_list/#string-functions).

Возвращаясь к первоначальной проблеме, задать значение по умолчанию для переменной: `{{ default "nginx" .Values.image.repository }}`. Обязательно в кавычках.
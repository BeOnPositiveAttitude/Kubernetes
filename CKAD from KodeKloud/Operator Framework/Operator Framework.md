В прошлых урока мы рассмотрели процесс создания CRD и custom controller в виде отдельных сущностей. Мы вручную создали объект CRD и наш кастомный ресурс на его основе, затем развернули custom controller. Эти две сущности могут быть упакованы, чтобы в дальнейшем их можно было развернуть как единое целое, используя Operator Framework.

Когда разворачивается Operator definition-файл, он разворачивает объект CRD, кастомный ресурс на его основе и custom controller. Кроме этого Operator умеет много всего другого. Рассмотрим самый популярный Operator - etcd operator, который используется для деплоя кластера etcd в K8s. Он содержит CRD под названием EtcdCluster, ETCD Controller который смотрим за ресурсами типа etcd и деплоит etcd в кластере K8s. Кроме этого он умеет делать бэкапы кластера etcd, восстанавливать бэкапы в etcd кластер
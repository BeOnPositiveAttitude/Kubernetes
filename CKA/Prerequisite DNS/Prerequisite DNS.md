По умолчанию для разрешения имен хост сначала смотрит в локальный файл `/etc/hosts` и, если не находит там нужной записи, обращается к DNS-серверу.

Этот порядок можно изменить путем редактирования файла `/etc/nsswitch.conf`:

`hosts:          files dns`

Здесь `files` ссылается на файл `/etc/hosts`, а `dns` на DNS-сервер.

Предположим у нас в компании есть веб-сервер. Он доступен извне по полному имени `web.mycompany.com`. Однако мы хотим, чтобы внутри организации он также был доступен по короткому имени `web`. Для этого мы можем добавить в локальный файл `/etc/resolv.conf` на всех хостах следующую запись:

```bash
nameserver   192.168.1.100
search       mycompany.com   #этот домен будет автоматически добавляться к коротким именам, например web
```

При этом наш хост достаточно умен, чтобы исключать этот домен, если мы вводим полное имя `web.mycompany.com`.

Также мы можем указать сразу несколько доменов:

```bash
nameserver   192.168.1.100
search       mycompany.com  prod.mycompany.com
```

Это значит, когда мы говорим `web`, то подразумевается `web.mycompany.com` либо `web.prod.mycompany.com`.

Утилита `nslookup` при работе не учитывает записи из локального файла хоста `/etc/hosts`.

Еще одна хорошая утилита для тестирования разрешения имен - `dig www.google.com`.
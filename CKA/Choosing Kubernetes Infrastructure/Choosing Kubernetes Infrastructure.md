K8s может быть развернут на различных системах разными способами, начиная с вашего лаптопа, на физические или виртуальные сервера внутри вашей организации, а также в облаке. В зависимости от ваших требований, вашей облачной экосистемы и от типа приложений, которые вы хотите развернуть, вы можете выбрать одно из этих решений.

На лаптопе или локальной машине есть несколько способов, с которых можно начать. На поддерживаемых Linux-машинах вы можете начать с ручной установки бинарных файлов и инсталляции локального кластера. Однако это очень утомительный процесс, особенно если вы только начинаете. Поэтому решение, которое автоматизирует все это, поможет нам развернуть кластер в считанные минуты.

С другой стороны на Windows вы изначально не сможете установить K8s, т.к. не существует бинарных файлов под Windows. Поэтому вам нужно полагаться на ПО для виртуализации, например Hyper-V, VMware Workstation или VirtualBox, для создания Linux ВМ, на которых вы сможете запустить K8s.

Также доступны решения для запуска компонент K8s в виде Docker-контейнеров на ВМ в Windows. Однако стоит помнить, что даже тогда docker-образы являются Linux-based и "под капотом" они запускаются на небольших ОС Linux, созданных Hyper-V для запуска Linux Docker-контейнеров.

Так какие решения доступны для легкого старта K8s на локальной машине? *Minikube* лего разворачивает single node кластер. Он полагается на ПО для виртуализации, например Oracle VirtualBox, для создания ВМ, в которой запускаются компоненты K8s кластера.

Инструмент *kubeadm* может быть использован для быстрого деплоя single node или multi node кластера. Перед этим вам нужно самостоятельно создать требуемые хосты с поддерживаемой конфигурацией.

Таким образом различие между первыми двумя способами и kubeadm состоит в том, что первые два самостоятельно создают ВМ с поддерживаемой конфигурацией, тогда как kubeadm ожидает, что ВМ уже созданы. В то же время kubeadm позволяет развернуть multi node кластер, а предыдущие способы нет.

Создание локального K8s кластера на лаптопе обычно используется для целей обучения, разработки и тестирования. Для создания production кластера существует множество способов, с которых можно начать. Оба в частном либо публичном облачном окружении. Мы будем классифицировать их на *Turnkey Solutions* (решения под ключ) и *Hosted Solutions (Managed Solutions)*.

Turnkey Solutions - это когда вы создаете требуемые ВМ и используете какие-либо инструменты или скрипты для конфигурирования K8s кластера. По итогу вы отвечаете за создание, обслуживание и обновление этих ВМ. Но управление и обслуживание кластера облегчаются в основном за счет использования этих инструментов и скриптов. Пример - установка K8s кластера в AWS с использованием инструмента kOps.

Hosted Solutions больше похожи на решения Kubernetes-As-A-Service, когда кластер наряду с требуемыми ВМ разворачиваются провайдером и K8s на них конфигурируется также провайдером. ВМ поддерживаются провайдером. Например Google Container Engine позволяет развернуть K8s кластер в считанные минуты, без необходимости выполнять какую-либо настройку самостоятельно.

Рассмотрим некоторые Turnkey Solutions.

*OpenShift* - популярная on-prem K8s платформа, выпущенная RedHat. OpenShift - open source платформа приложений-контейнеров, которая строится на базе K8s. Она предоставляет набор дополнительных инструментов и хороший GUI для создания и управления объектами K8s, а также легко интегрируется с CI/CD pipeline-ми.

*Cloud Foundry Container Runtime* - open source проект от Cloud Foundry, который помогает разворачивать и управлять высокодоступными K8 кластерами, используя их open source инструмент BOSH.

Если вы хотите использовать ваше существующее VMware окружение для K8s, то стоит попробовать оценить решение *VMware Cloud PKS*.

*Vagrant* предоставляет набор полезных скриптов для деплоя K8s кластера у различных облачных провайдеров.

Все эти решения упрощают развертывание и управление K8s кластером конфиденциально (privately) внутри вашей организации. Вы должны иметь несколько ВМ с поддерживаемой конфигурацией. Это были лишь некоторые из множества сертифицированных K8s решений. Но их существует намного больше, смотрите документацию K8s.

Рассмотрим также несколько Hosted Solutions.

*Google Container Engine (GKE)* - очень популярное решение Kubernetes-As-A-Service в GCP.

*OpenShift Online* - предложение от RedHat, где вы можете получить доступ к полнофункциональному K8s кластеру онлайн.

Azure имеет *Azure Kubernetes Service (AKS)*.

*Amazon Elastic Container Service for Kubernetes (EKS)* - предложение от Amazon.

И снова это всего лишь некоторые из множества существующих решений.
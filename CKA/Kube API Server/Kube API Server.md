Ранее мы обсуждали, что *kube-apiserver* - это основой компонент управления в K8s.

Когда вы выполняете команду `kubectl`, утилита kubectl фактически обращается к kube-apiserver. Kube-apiserver сначала аутентифицирует запрос и проверяет его. Затем он вытаскивает данные из кластера etcd и посылает ответ с запрошенной информацией.

На самом деле вам не обязательно пользоваться утилитой kubectl. Вместо этого вы можете вызывать API напрямую, посылая POST-запросы. Рассмотрим пример создания pod-а.

`curl -X POST /api/v1/namespaces/default/pods ...[other]`

Сначала запрос проходит аутентификацию, а затем проверку. В этом случае API-сервер создает объект Pod без назначения его на ноду, обновляет информацию на сервере etcd, уведомляет пользователя, что pod был создан.

Scheduler постоянно мониторит API-сервер и понимает, что появился новый pod без назначенной ему ноды. Scheduler определяет подходящую ноду для размещения нового pod-а и взаимодействует в ответ с kube-apiserver. API-сервер затем обновляет информацию в кластере etcd и посылает ее в kubelet на соответствующей worker-ноде. Kubelet создает pod на ноде и отдает приказ container runtime engine развернуть образ приложения. Когда это сделано, kubelet в ответ посылает обновленный статус kube-apiserver-у, а API-сервер затем обновляет данные в кластере etcd. Похожая схема соблюдается каждый раз, когда запрашивается изменение.
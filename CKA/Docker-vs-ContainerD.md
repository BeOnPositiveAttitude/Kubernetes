Вернемся к началу эпохи контейнеров. Был Docker и были другие инструменты, такие как Rocket. Но пользовательский опыт использования Docker делал работу с контейнерами супер простой. Поэтому Docker стал самым доминирующим инструментом для работы с контейнерами.

Затем пришел K8s для оркестрирования Docker-ом. K8s был построен для оркестрирования конкретно Docker-ом в самом начале. Поэтому Docker и K8s были тесно связаны, и тогда K8s работал только с Docker-ом и не поддерживал какие-либо другие решения для управления контейнерами. Затем популярность K8s как оркестратора контейнеров выросла и сейчас хотелось бы видеть другие container runtimes, такие как Rocket. Пользователям K8s потребовалось работать с другими container runtimes кроме Docker.

K8s представил интерфейс, названный *Container Runtime Interface* (CRI). CRI позволяет любому вендору работать в качестве container runtime для K8s пока он (вендор) придерживается стандартов OCI. OCI расшифровывается как *Open Container Initiative* и состоит из спецификации образов (imagespec) и спецификации среды выполнения (runtimespec).

Imagespec означает спецификации того, каким образом должен собираться образ.

Runtimespec определяет стандарты того, каким образом container runtime должна разрабатываться. Таким образом, придерживаясь данных стандартов, любой может построить container runtime, которая может быть использована в дальнейшем кем угодно для работы с K8s.

Rocket и другие container runtimes, придерживавшиеся стандартов OCI, теперь поддерживаются в качестве container runtime в K8s через CRI.

Однако Docker НЕ был разработан с поддержкой стандартов CRI. Docker был разработан до введения CRI и все еще был самым доминирующим и используемым большинством инструментом для работы с контейнерами. Поэтому K8s продолжал также поддерживать Docker. K8s представил инструмент, известный как Docker Shim, который был замудренным, но временным способом продолжать поддерживать Docker за пределами Container Runtime Interface.

В то время как большинство других container runtimes работали через CRI, Docker продолжал работать без него. Теперь как видите Docker не является единственным container runtime. Docker состоит из множества инструментов, собранных вместе. Например Docker CLI, Docker API, build tool помогающая собирать образы. Была поддержка для Volumes, Auth, Security, а также наконец сама container runtime, которая называется *runc* и демон, который управляет runc и называется ContainerD.